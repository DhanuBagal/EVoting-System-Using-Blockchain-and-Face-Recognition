<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Candidates</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <h2>Existing Candidates</h2>
    </header>
    <nav>
        <a href="/add_party">Add Party</a> <!-- Clicking this will redirect to addparty.html -->
        <a href="/view_votes">View Votes</a>
        <a href="/schedule_election">Schedule Election</a>
        <a href="{{ url_for('logout') }}">Logout</a> <!-- Logout link -->
    </nav>

    <h3>Existing Candidates</h3>
    <ul>
        {% for candidate in all_candidates %}
        <li>
            {{ candidate.party_name }} - {{ candidate.candidate_name }} ({{ candidate.area }})
            <button onclick="editParty('{{ candidate.party_id }}', '{{ candidate.party_name }}', '{{ candidate.candidate_name }}', '{{ candidate.area }}')">Edit</button>
        </li>
        {% endfor %}
    </ul>

    <script>
        function editParty(party_id, party_name, candidate_name, area) {
            // Redirects to the addparty.html page for editing
            window.location.href = "/add_party?party_id=" + party_id + "&party_name=" + party_name + "&candidate_name=" + candidate_name + "&area=" + area;
        }
    </script>
</body>
</html>
